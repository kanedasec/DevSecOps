name: Full Security Pipeline

on:
  workflow_dispatch:

jobs:
  static-analysis:
    uses: kanedasec/DevSecOps/.github/workflows/ci/static-analysis.yml@main

  trivy-scan:
    uses: kanedasec/DevSecOps/.github/workflows/ci/trivy-scan.yml@main
    needs: static-analysis

  evaluate:
    uses: kanedasec/DevSecOps/.github/workflows/ci/evaluate-results.yml@main
    needs: trivy-scan